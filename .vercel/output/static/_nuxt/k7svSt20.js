import{E as X,F as L,g as E,G as le,j as k,l as ie,n as w,o as y,q as z,H as ue,c as R,I as de,J as ce,K as me,k as ne,L as pe,w as f,b as c,s,P as B,p as A,y as fe,M as D,N as ve,B as S,O as be,Q as ge,R as ye,S as he,m as Z,T as we,h as xe,U as _e,V as ke,W as Ce,i as Ve,X as $e,e as ee,v as I,a as o,D as M,d as C,t as te,f as Ie,Y as Ee,Z as Ae,r as j,z as ze,A as ae,C as Be,$ as Fe,_ as Se,u as Re,a0 as Me}from"./C-wTnlYi.js";import{_ as Ue,a as Pe}from"./QbRaWNLt.js";import{i as T,a as K,u as qe,b as je}from"./KTh3-zaf.js";import{_ as Te}from"./DkLN3wAV.js";function se(r,a){return T(r)?!1:Array.isArray(r)?r.some(e=>K(e,a)):K(r,a)}const Ke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Le(r,a){return a!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function De(r,a,e){const n=Le(r.key,e);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ke[n]}function Ne(r,a=!1){const e=X();for(const n of r)if(n===e||(n.focus({preventScroll:a}),X()!==e))return}function Oe(r,a){return r.map((e,n)=>r[(a+n)%r.length])}const[Ge,Et]=L("RovingFocusGroup"),He=E({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const a=r,{primitiveElement:e,currentElement:n}=le(),u=k(()=>a.checked??a.value);return ie(u,(d,l)=>{if(!n.value)return;const g=n.value,v=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(v,"value").set;if(p&&d!==l){const b=new Event("input",{bubbles:!0}),h=new Event("change",{bubbles:!0});p.call(g,d),g.dispatchEvent(b),g.dispatchEvent(h)}}),(d,l)=>(y(),w(ue,z({ref_key:"primitiveElement",ref:e},{...a,...d.$attrs},{as:"input"}),null,16))}}),Ye=E({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const a=r,e=k(()=>typeof a.value=="string"||typeof a.value=="number"||typeof a.value=="boolean"?[{name:a.name,value:a.value}]:typeof a.value=="object"&&Array.isArray(a.value)?a.value.flatMap((n,u)=>typeof n=="object"?Object.entries(n).map(([d,l])=>({name:`[${a.name}][${u}][${d}]`,value:l})):{name:`[${a.name}][${u}]`,value:n}):a.value!==null&&typeof a.value=="object"&&!Array.isArray(a.value)?Object.entries(a.value).map(([n,u])=>({name:`[${a.name}][${n}]`,value:u})):[]);return(n,u)=>(y(!0),R(ce,null,de(e.value,d=>(y(),w(He,z({key:d.name,ref_for:!0},{...a,...n.$attrs},{name:d.name,value:d.value}),null,16,["name","value"]))),128))}}),[Je,At]=L("CheckboxGroupRoot"),Qe=E({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!0},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(r){const a=r,e=Ge(),n=qe(),u=k(()=>a.tabStopId||n),d=k(()=>e.currentTabStopId.value===u.value),{getItems:l,CollectionItem:g}=me();ne(()=>{a.focusable&&e.onFocusableItemAdd()}),pe(()=>{a.focusable&&e.onFocusableItemRemove()});function v(t){if(t.key==="Tab"&&t.shiftKey){e.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const p=De(t,e.orientation.value,e.dir.value);if(p!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!a.allowShiftKey&&t.shiftKey)return;t.preventDefault();let b=[...l().map(h=>h.ref).filter(h=>h.dataset.disabled!=="")];if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const h=b.indexOf(t.currentTarget);b=e.loop.value?Oe(b,h+1):b.slice(h+1)}fe(()=>Ne(b))}}return(t,p)=>(y(),w(s(g),null,{default:f(()=>[c(s(B),{tabindex:d.value?0:-1,"data-orientation":s(e).orientation.value,"data-active":t.active,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:p[0]||(p[0]=b=>{t.focusable?s(e).onItemFocus(u.value):b.preventDefault()}),onFocus:p[1]||(p[1]=b=>s(e).onItemFocus(u.value)),onKeydown:v},{default:f(()=>[A(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});function U(r){return r==="indeterminate"}function re(r){return U(r)?"indeterminate":r?"checked":"unchecked"}const[We,Xe]=L("CheckboxRoot"),Ze=E({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:a}){const e=r,n=a,{forwardRef:u,currentElement:d}=D(),l=Je(null),g=ve(e,"modelValue",n,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),v=k(()=>(l==null?void 0:l.disabled.value)||e.disabled),t=k(()=>T(l==null?void 0:l.modelValue.value)?g.value==="indeterminate"?"indeterminate":g.value:se(l.modelValue.value,e.value));function p(){if(T(l==null?void 0:l.modelValue.value))g.value=U(g.value)?!0:!g.value;else{const i=[...l.modelValue.value||[]];if(se(i,e.value)){const V=i.findIndex(_=>K(_,e.value));i.splice(V,1)}else i.push(e.value);l.modelValue.value=i}}const b=je(d),h=k(()=>{var i;return e.id&&d.value?(i=document.querySelector(`[for="${e.id}"]`))==null?void 0:i.innerText:void 0});return Xe({disabled:v,state:t}),(i,V)=>{var _,$;return y(),w(ye((_=s(l))!=null&&_.rovingFocus.value?s(Qe):s(B)),z(i.$attrs,{id:i.id,ref:s(u),role:"checkbox","as-child":i.asChild,as:i.as,type:i.as==="button"?"button":void 0,"aria-checked":s(U)(t.value)?"mixed":t.value,"aria-required":i.required,"aria-label":i.$attrs["aria-label"]||h.value,"data-state":s(re)(t.value),"data-disabled":v.value?"":void 0,disabled:v.value,focusable:($=s(l))!=null&&$.rovingFocus.value?!v.value:void 0,onKeydown:be(ge(()=>{},["prevent"]),["enter"]),onClick:p}),{default:f(()=>[A(i.$slots,"default",{modelValue:s(g),state:t.value}),s(b)&&i.name&&!s(l)?(y(),w(s(Ye),{key:0,type:"checkbox",checked:!!t.value,name:i.name,value:i.value,disabled:v.value,required:i.required},null,8,["checked","name","value","disabled","required"])):S("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),et=E({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(r){const{forwardRef:a}=D(),e=We();return(n,u)=>(y(),w(s(he),{present:n.forceMount||s(U)(s(e).state.value)||s(e).state.value===!0},{default:f(()=>[c(s(B),z({ref:s(a),"data-state":s(re)(s(e).state.value),"data-disabled":s(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":n.asChild,as:n.as},n.$attrs),{default:f(()=>[A(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),tt=E({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(r){const a=r;return D(),(e,n)=>(y(),w(s(B),z(a,{onMousedown:n[0]||(n[0]=u=>{!u.defaultPrevented&&u.detail>1&&u.preventDefault()})}),{default:f(()=>[A(e.$slots,"default")]),_:3},16))}}),at={slots:{root:"relative flex items-start",base:"shrink-0 flex items-center justify-center rounded-(--ui-radius) text-(--ui-bg) ring ring-inset ring-(--ui-border-accented) focus-visible:outline-2 focus-visible:outline-offset-2",container:"flex items-center",wrapper:"ms-2",icon:"shrink-0 size-full",label:"block font-medium text-(--ui-text)",description:"text-(--ui-text-muted)"},variants:{color:{primary:"focus-visible:outline-(--ui-primary)",secondary:"focus-visible:outline-(--ui-secondary)",success:"focus-visible:outline-(--ui-success)",info:"focus-visible:outline-(--ui-info)",warning:"focus-visible:outline-(--ui-warning)",error:"focus-visible:outline-(--ui-error)",neutral:"focus-visible:outline-(--ui-border-inverted)"},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-(--ui-error)"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{color:"primary",checked:!0,class:"ring-2 ring-(--ui-primary) bg-(--ui-primary)"},{color:"secondary",checked:!0,class:"ring-2 ring-(--ui-secondary) bg-(--ui-secondary)"},{color:"success",checked:!0,class:"ring-2 ring-(--ui-success) bg-(--ui-success)"},{color:"info",checked:!0,class:"ring-2 ring-(--ui-info) bg-(--ui-info)"},{color:"warning",checked:!0,class:"ring-2 ring-(--ui-warning) bg-(--ui-warning)"},{color:"error",checked:!0,class:"ring-2 ring-(--ui-error) bg-(--ui-error)"},{color:"neutral",checked:!0,class:"ring-2 ring-(--ui-border-inverted) bg-(--ui-bg-inverted)"}],defaultVariants:{size:"md",color:"primary"}},st=Ie;var oe;const ot=ee({extend:ee(at),...((oe=st.ui)==null?void 0:oe.checkbox)||{}}),nt=E({inheritAttrs:!1,__name:"Checkbox",props:Z({as:{},label:{},description:{},color:{},size:{},icon:{},indeterminateIcon:{},class:{},ui:{},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},defaultValue:{type:[Boolean,String]}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:Z(["change"],["update:modelValue"]),setup(r,{emit:a}){const e=r,n=we(),u=a,d=xe(r,"modelValue"),l=_e(ke(e,"required","value","defaultValue")),g=Ce(),{id:v,emitFormChange:t,emitFormInput:p,size:b,color:h,name:i,disabled:V,ariaAttrs:_}=Ve(e),$=v.value??$e(),x=k(()=>ot({size:b.value,color:h.value,required:e.required,disabled:V.value,checked:!!(d.value??e.defaultValue)}));function P(m){const F=new Event("change",{target:{value:m}});u("change",F),t(),p()}return(m,F)=>{var N;return y(),w(s(B),{as:m.as,class:I(x.value.root({class:[e.class,(N=e.ui)==null?void 0:N.root]}))},{default:f(()=>{var O,G,H,Y,J;return[o("div",{class:I(x.value.container({class:(O=e.ui)==null?void 0:O.container}))},[c(s(Ze),z({id:s($)},{...s(l),...m.$attrs,...s(_)},{modelValue:d.value,"onUpdate:modelValue":[F[0]||(F[0]=q=>d.value=q),P],name:s(i),disabled:s(V),class:x.value.base({class:(G=e.ui)==null?void 0:G.base})}),{default:f(({modelValue:q})=>[c(s(et),{"as-child":""},{default:f(()=>{var Q,W;return[q==="indeterminate"?(y(),w(M,{key:0,name:m.indeterminateIcon||s(g).ui.icons.minus,class:I(x.value.icon({class:(Q=e.ui)==null?void 0:Q.icon}))},null,8,["name","class"])):(y(),w(M,{key:1,name:m.icon||s(g).ui.icons.check,class:I(x.value.icon({class:(W=e.ui)==null?void 0:W.icon}))},null,8,["name","class"]))]}),_:2},1024)]),_:1},16,["id","modelValue","name","disabled","class"])],2),m.label||n.label||m.description||n.description?(y(),R("div",{key:0,class:I(x.value.wrapper({class:(H=e.ui)==null?void 0:H.wrapper}))},[m.label||n.label?(y(),w(s(tt),{key:0,for:s($),class:I(x.value.label({class:(Y=e.ui)==null?void 0:Y.label}))},{default:f(()=>[A(m.$slots,"label",{label:m.label},()=>[C(te(m.label),1)])]),_:3},8,["for","class"])):S("",!0),m.description||n.description?(y(),R("p",{key:1,class:I(x.value.description({class:(J=e.ui)==null?void 0:J.description}))},[A(m.$slots,"description",{description:m.description},()=>[C(te(m.description),1)])],2)):S("",!0)],2)):S("",!0)]}),_:3},8,["as","class"])}}}),rt={class:"space-y-8"},lt={class:"text-center"},it={class:"inline-flex h-16 w-16 items-center justify-center rounded-full bg-primary-50 dark:bg-primary-900/30 mb-3"},ut={class:"space-y-6"},dt={class:"flex items-center justify-between mt-1"},ct={class:"mt-8"},mt={class:"grid grid-cols-2 gap-4 mt-4"},pt={class:"text-center"},ft={class:"text-sm text-gray-600 dark:text-gray-400"},vt={__name:"LoginForm",setup(r){const{$toast:a}=Ee(),e=Ae(),n=j(!1),u=j(!1),d=j(!1),l=ze({email:"",password:""});ne(()=>{const v=localStorage.getItem("crm_email");v&&(l.email=v,d.value=!0)});const g=async()=>{if(!l.email||!l.password){a.add({title:"Erreur",description:"Veuillez remplir tous les champs",color:"red",icon:"i-heroicons-exclamation-triangle"});return}n.value=!0;try{d.value?localStorage.setItem("crm_email",l.email):localStorage.removeItem("crm_email"),await new Promise(v=>setTimeout(v,800)),e.push("/dashboard")}catch(v){console.error("Erreur de connexion:",v),a.add({title:"Échec de connexion",description:"Identifiants incorrects. Veuillez réessayer.",color:"red",icon:"i-heroicons-exclamation-triangle"})}finally{n.value=!1}};return(v,t)=>{const p=M,b=Pe,h=ae("UFormGroup"),i=Be,V=ae("UInputGroup"),_=nt,$=Ue,x=Se,P=Te;return y(),w(P,{ui:{base:"relative overflow-hidden backdrop-blur-xl bg-white/80 dark:bg-gray-900/80",ring:"ring-1 ring-gray-200 dark:ring-gray-800",shadow:"shadow-xl",rounded:"rounded-xl"},class:"w-full max-w-md mx-auto"},{default:f(()=>[t[13]||(t[13]=o("div",{class:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-800/50 dark:to-gray-900/50 -z-10 opacity-50"},null,-1)),t[14]||(t[14]=o("div",{class:"absolute -top-24 -right-24 w-64 h-64 bg-primary-200 dark:bg-primary-900/20 rounded-full blur-3xl -z-10 opacity-30"},null,-1)),t[15]||(t[15]=o("div",{class:"absolute -bottom-24 -left-24 w-64 h-64 bg-primary-300 dark:bg-primary-800/20 rounded-full blur-3xl -z-10 opacity-30"},null,-1)),o("div",rt,[o("div",lt,[o("div",it,[c(p,{name:"i-heroicons-lock-closed",class:"text-primary-500 dark:text-primary-400 h-8 w-8"})]),t[4]||(t[4]=o("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Bon retour parmi nous ",-1)),t[5]||(t[5]=o("p",{class:"text-gray-500 dark:text-gray-400"}," Connectez-vous pour accéder à votre espace ",-1))]),c($,{state:s(l),onSubmit:g},{default:f(()=>[o("div",ut,[c(h,null,{default:f(()=>[c(b,{modelValue:s(l).email,"onUpdate:modelValue":t[0]||(t[0]=m=>s(l).email=m),type:"email",placeholder:"Email",autocomplete:"email",icon:"i-heroicons-envelope",size:"lg",ui:{base:"relative block w-full transition duration-100 focus-within:z-10",rounded:"rounded-xl",icon:{base:"text-gray-400"},padding:{lg:"py-3 pl-12 pr-4"}}},null,8,["modelValue"])]),_:1}),c(h,null,{default:f(()=>[c(V,null,{append:f(()=>[c(i,{color:"gray",variant:"ghost",icon:"",class:"absolute right-0 top-0 bottom-0 z-10",padded:!1,onClick:t[2]||(t[2]=m=>u.value=!s(u))},{default:f(()=>[c(p,{name:s(u)?"i-heroicons-eye-slash":"i-heroicons-eye",class:"h-5 w-5 text-gray-500"},null,8,["name"])]),_:1})]),default:f(()=>[c(b,{modelValue:s(l).password,"onUpdate:modelValue":t[1]||(t[1]=m=>s(l).password=m),type:s(u)?"text":"password",placeholder:"Mot de passe",autocomplete:"current-password",icon:"i-heroicons-lock-closed",size:"lg",ui:{base:"relative block w-full transition duration-100 focus-within:z-10",rounded:"rounded-xl",icon:{base:"text-gray-400"},padding:{lg:"py-3 pl-12 pr-12"}}},null,8,["modelValue","type"])]),_:1})]),_:1}),o("div",dt,[c(_,{modelValue:s(d),"onUpdate:modelValue":t[3]||(t[3]=m=>Fe(d)?d.value=m:null),name:"remember",label:"Se souvenir de moi",class:"text-sm"},null,8,["modelValue"]),c(i,{variant:"link",to:"/auth/forgot-password",size:"sm",class:"text-primary-500 dark:text-primary-400 font-medium hover:text-primary-600"},{default:f(()=>t[6]||(t[6]=[C(" Mot de passe oublié? ")])),_:1})])]),o("div",ct,[c(i,{type:"submit",color:"primary",block:"",loading:s(n),ui:{rounded:"rounded-xl",size:{lg:"text-base py-3.5"}},size:"lg"},{default:f(()=>t[7]||(t[7]=[o("span",{class:"font-medium"},"Se connecter",-1)])),_:1},8,["loading"])])]),_:1},8,["state"]),o("div",null,[t[10]||(t[10]=o("div",{class:"relative py-2"},[o("div",{class:"absolute inset-0 flex items-center"},[o("div",{class:"w-full border-t border-gray-200 dark:border-gray-700"})]),o("div",{class:"relative flex justify-center"},[o("span",{class:"bg-white dark:bg-gray-900 px-4 text-sm text-gray-500"}," ou continuer avec ")])],-1)),o("div",mt,[c(i,{color:"white",variant:"outline",block:"",ui:{rounded:"rounded-xl",padding:{lg:"py-3"},shadow:"shadow-sm"},size:"lg",class:"flex items-center justify-center gap-2"},{default:f(()=>[c(p,{name:"i-simple-icons-google",class:"h-5 w-5"}),t[8]||(t[8]=o("span",null,"Google",-1))]),_:1}),c(i,{color:"white",variant:"outline",block:"",ui:{rounded:"rounded-xl",padding:{lg:"py-3"},shadow:"shadow-sm"},size:"lg",class:"flex items-center justify-center gap-2"},{default:f(()=>[c(p,{name:"i-simple-icons-apple",class:"h-5 w-5"}),t[9]||(t[9]=o("span",null,"Apple",-1))]),_:1})])]),o("div",pt,[o("p",ft,[t[12]||(t[12]=C(" Pas encore de compte? ")),c(x,{to:"/auth/register",class:"text-primary-500 dark:text-primary-400 font-medium hover:text-primary-600"},{default:f(()=>t[11]||(t[11]=[C(" Créer un compte ")])),_:1})])])])]),_:1})}}},bt={class:"min-h-screen flex flex-col md:flex-row"},gt={class:"hidden md:flex md:w-1/2 bg-primary-600 flex-col justify-center items-center text-white px-8"},yt={class:"max-w-md mx-auto"},ht={class:"bg-white/10 backdrop-blur-md p-6 rounded-xl"},wt={class:"flex items-start mb-4"},xt={class:"flex items-center"},_t={class:"w-full md:w-1/2 flex items-center justify-center p-4 md:p-8"},kt={class:"w-full max-w-md"},zt={__name:"login",setup(r){return Re({title:"Connexion - CRM Pro"}),(a,e)=>{const n=M,u=Me,d=vt;return y(),R("div",bt,[o("div",gt,[o("div",yt,[e[2]||(e[2]=o("h1",{class:"text-4xl font-bold mb-4"},"CRM Pro",-1)),e[3]||(e[3]=o("p",{class:"text-xl mb-8 opacity-90"}," Gérez vos relations clients plus efficacement que jamais avec notre solution CRM complète. ",-1)),o("div",ht,[o("div",wt,[c(n,{name:"i-heroicons-star",class:"text-yellow-300 h-5 w-5 shrink-0 mt-1 mr-2"}),e[0]||(e[0]=o("p",{class:"italic text-white/90"},' "Ce CRM a transformé notre façon de gérer nos clients. Simple et puissant à la fois." ',-1))]),o("div",xt,[c(u,{src:"/images/avatar-testimonial.jpg",alt:"Client satisfait",class:"h-10 w-10 rounded-full object-cover mr-3",onerror:"this.src='https://ui.shadcn.com/avatars/03.png'"}),e[1]||(e[1]=o("div",null,[o("p",{class:"font-medium"},"Sophie Martin"),o("p",{class:"text-sm opacity-75"},"Directrice des ventes, InnovaTech")],-1))])])])]),o("div",_t,[o("div",kt,[e[4]||(e[4]=o("div",{class:"text-center mb-8 md:hidden"},[o("h1",{class:"text-2xl font-bold text-primary-600"},"CRM Pro"),o("p",{class:"text-gray-600"},"Votre plateforme de gestion client")],-1)),c(d),e[5]||(e[5]=o("div",{class:"text-center mt-8 text-xs text-gray-500"},[o("p",null,[C(" En vous connectant, vous acceptez nos "),o("a",{href:"#",class:"underline"},"Conditions d'utilisation"),C(" et notre "),o("a",{href:"#",class:"underline"},"Politique de confidentialité"),C(". ")])],-1))])])])}}};export{zt as default};
