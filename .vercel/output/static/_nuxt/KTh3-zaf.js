import{a5 as w,X as p,j as S,aJ as x,ag as A}from"./C-wTnlYi.js";const y=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function h(e,n){n?n={...y,...n}:n=y;const s=m(n);return s.dispatch(e),s.toString()}const k=Object.freeze(["prototype","__proto__","constructor"]);function m(e){let n="",s=new Map;const t=r=>{n+=r};return{toString(){return n},getContext(){return s},dispatch(r){return e.replacer&&(r=e.replacer(r)),this[r===null?"null":typeof r](r)},object(r){if(r&&typeof r.toJSON=="function")return this.object(r.toJSON());const i=Object.prototype.toString.call(r);let a="";const f=i.length;f<10?a="unknown:["+i+"]":a=i.slice(8,f-1),a=a.toLowerCase();let l=null;if((l=s.get(r))===void 0)s.set(r,s.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(r))return t("buffer:"),t(r.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this[a]?this[a](r):e.ignoreUnknown||this.unkown(r,a);else{let u=Object.keys(r);e.unorderedObjects&&(u=u.sort());let c=[];e.respectType!==!1&&!g(r)&&(c=k),e.excludeKeys&&(u=u.filter(o=>!e.excludeKeys(o)),c=c.filter(o=>!e.excludeKeys(o))),t("object:"+(u.length+c.length)+":");const d=o=>{this.dispatch(o),t(":"),e.excludeValues||this.dispatch(r[o]),t(",")};for(const o of u)d(o);for(const o of c)d(o)}},array(r,i){if(i=i===void 0?e.unorderedArrays!==!1:i,t("array:"+r.length+":"),!i||r.length<=1){for(const l of r)this.dispatch(l);return}const a=new Map,f=r.map(l=>{const u=m(e);u.dispatch(l);for(const[c,d]of u.getContext())a.set(c,d);return u.toString()});return s=a,f.sort(),this.array(f,!1)},date(r){return t("date:"+r.toJSON())},symbol(r){return t("symbol:"+r.toString())},unkown(r,i){if(t(i),!!r&&(t(":"),r&&typeof r.entries=="function"))return this.array(Array.from(r.entries()),!0)},error(r){return t("error:"+r.toString())},boolean(r){return t("bool:"+r)},string(r){t("string:"+r.length+":"),t(r)},function(r){t("fn:"),g(r)?this.dispatch("[native]"):this.dispatch(r.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(r.name)),e.respectFunctionProperties&&this.object(r)},number(r){return t("number:"+r)},xml(r){return t("xml:"+r.toString())},null(){return t("Null")},undefined(){return t("Undefined")},regexp(r){return t("regex:"+r.toString())},uint8array(r){return t("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},uint8clampedarray(r){return t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},int8array(r){return t("int8array:"),this.dispatch(Array.prototype.slice.call(r))},uint16array(r){return t("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},int16array(r){return t("int16array:"),this.dispatch(Array.prototype.slice.call(r))},uint32array(r){return t("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},int32array(r){return t("int32array:"),this.dispatch(Array.prototype.slice.call(r))},float32array(r){return t("float32array:"),this.dispatch(Array.prototype.slice.call(r))},float64array(r){return t("float64array:"),this.dispatch(Array.prototype.slice.call(r))},arraybuffer(r){return t("arraybuffer:"),this.dispatch(new Uint8Array(r))},url(r){return t("url:"+r.toString())},map(r){t("map:");const i=[...r];return this.array(i,e.unorderedSets!==!1)},set(r){t("set:");const i=[...r];return this.array(i,e.unorderedSets!==!1)},file(r){return t("file:"),this.dispatch([r.name,r.size,r.type,r.lastModfied])},blob(){if(e.ignoreUnknown)return t("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return t("domwindow")},bigint(r){return t("bigint:"+r.toString())},process(){return t("process")},timer(){return t("timer")},pipe(){return t("pipe")},tcp(){return t("tcp")},udp(){return t("udp")},tty(){return t("tty")},statwatcher(){return t("statwatcher")},securecontext(){return t("securecontext")},connection(){return t("connection")},zlib(){return t("zlib")},context(){return t("context")},nodescript(){return t("nodescript")},httpparser(){return t("httpparser")},dataview(){return t("dataview")},signal(){return t("signal")},fsevent(){return t("fsevent")},tlswrap(){return t("tlswrap")}}}const b="[native code] }",F=b.length;function g(e){return typeof e!="function"?!1:Function.prototype.toString.call(e).slice(-F)===b}function N(e,n,s={}){return e===n||h(e,s)===h(n,s)}function O(e){return e==null}let v=0;function U(e,n="reka"){const s=w({useId:void 0});return p?`${n}-${p()}`:s.useId?`${n}-${s.useId()}`:`${n}-${++v}`}function B(e){return S(()=>{var n;return x(e)?!!((n=A(e))!=null&&n.closest("form")):!0})}export{N as a,B as b,O as i,U as u};
